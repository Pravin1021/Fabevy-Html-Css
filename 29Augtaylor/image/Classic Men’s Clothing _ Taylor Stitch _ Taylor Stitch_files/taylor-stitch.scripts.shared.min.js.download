"use strict";var TSCustomEventsDef,TSSharedServices,TSShared,TSMiscellaneousFuncModule,TSRedditPixelManager,TSSlickSliderController,__awaiter=this&&this.__awaiter||function(e,r,s,l){return new(s=s||Promise)(function(a,t){function i(e){try{o(l.next(e))}catch(e){t(e)}}function n(e){try{o(l.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?a(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,n)}o((l=l.apply(e,r||[])).next())})},__generator=this&&this.__generator||function(i,n){var o,r,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(a){return function(e){var t=[a,e];if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,r&&(s=2&t[0]?r.return:t[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,t[1])).done)return s;switch(r=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,r=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(s=0<(s=l.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){l.label=t[1];break}if(6===t[0]&&l.label<s[1]){l.label=s[1],s=t;break}if(s&&l.label<s[2]){l.label=s[2],l.ops.push(t);break}s[2]&&l.ops.pop(),l.trys.pop();continue}t=n.call(i,l)}catch(e){t=[6,e],r=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},TSKeyboardShortcuts=((TSCustomEventsDef=TSCustomEventsDef||{}).keydownOnModalVisible="keydown.OnTsModalVisible",function(){function e(){this.hotShotObj=null}return e.prototype.init=function(){this._bindEvents(),this._loadHotShot()},e.prototype._bindEvents=function(){var t=this;$(".keyboard-shortcuts-trigger").click(function(e){e.preventDefault(),t._launchHelpMenu()})},e.prototype._loadHotShot=function(){var e=this;this.hotShotObj=new Hotshot({waitForInputTime:500,seqs:[{keyCodes:[83],callback:function(){TSShared.closeExistingFeatherLight(),$(".nav-search").trigger("click"),$("#search-box").focus()}},{keyCodes:[77,69],callback:function(){TSShared.closeExistingFeatherLight();var e=$('[data-section-to-show="#right-drawer-account"]');TSShared.rightDrawerSectionsSwitcher.showSection(e),TSShared.snapper.open("right")}},{keyCodes:[72,69,76,80],callback:function(){window.location.href="/help"}},{keyCodes:[71,72],callback:function(){window.location.href="/"}},{keyCodes:[71,83],callback:function(){window.location.href="/workshop"}},{keyCodes:[71,77],callback:function(){window.location.href="/collections/all-mens"}},{keyCodes:[71,68],callback:function(){window.location.href="/the-dispatch"}},{keyCodes:[77,65,71],callback:function(){window.location.href="/the-dispatch"}},{keyCodes:[71,67],callback:function(){TSShared.closeExistingFeatherLight();var e=$('[data-section-to-show="#right-drawer-cart"]');TSShared.rightDrawerSectionsSwitcher.showSection(e),TSShared.snapper.open("right")}},{keyCodes:[71,67,83],callback:function(){window.location.href="/collections/mens-shirts"}},{keyCodes:[71,67,79],callback:function(){window.location.href="/collections/mens-outerwear"}},{keyCodes:[71,67,66],callback:function(){window.location.href="/collections/mens-bottoms"}},{keyCodes:[71,67,68],callback:function(){window.location.href="/collections/mens-denim"}},{keyCodes:[71,67,70],callback:function(){window.location.href="/collections/mens-footwear"}},{keyCodes:[71,67,65],callback:function(){window.location.href="/collections/mens-accessories"}},{keyCodes:[71,67,69],callback:function(){window.location.href="/collections/the-essentials"}}],combos:[{keyCodes:[16,191],callback:function(){e._launchHelpMenu()}}]})},e.prototype._launchHelpMenu=function(){var e={variant:"modal-ks",beforeOpen:function(e){TSShared.closeExistingFeatherLight()}},t=$("#keyboard-shortcuts-template").clone().prop("id","keyboard-shortcuts");t.find(".legend-section").each(function(e,t){$(t).addClass("animate__animated animate__fadeIn")}),$.t3featherlight(t,e)},e}()),TSHeaderController=((TSSharedServices||(TSSharedServices={})).renderSection=function(e,t,a){e=e+"?section_id="+t;return null!=a&&a.length&&(e+="&"+a.join("&")),fetch(e).then(function(e){return e.text()}).then(function(e){return e}).catch(function(e){return console.log("TSSharedServices.renderSection, error exception",e),null})},function(){function e(){this.transparentOnLoad=!1,this.classDefinitions={opaque:"opaque",transparent:"transparent",scrolled:"scrolled",atTop:"at-top",fixedPosition:"fixed-position",changelogHighlight:"promo-bubble-active"},this.headerElem=$("header"),this.bodyElem=$("body")}return e.prototype.init=function(){this._bindEvents()},e.prototype._bindEvents=function(){var e=this,t=(0===$(TSGlobals.selectorsOnWhichNotToAddTransparency).length?(e.transparentOnLoad=!0,e.makeHeaderTransparentOrOpaque(),e.bodyElem.addClass("trans-on")):e.bodyElem.addClass("trans-off"),$(".has-dropdown > a",e.headerElem)),a=$(".mega-menu a[rel]",e.headerElem),i=$(".mega-menu-buyer-thumb-wrapper > .thumbnail-handle-wrapper",e.headerElem);a.hoverIntent({over:function(){a.removeClass("item-active");var e=$(this),e=(e.addClass("item-active"),a.index(e));i.removeClass("item-active"),$(i[e]).addClass("item-active"),$(i).find("figure").removeClass().addClass("animate__animated animate__fadeInUpSmall")},out:function(){}}),t.hoverIntent({over:function(){e.activateMegaMenu(this)},out:function(){}}),t.touch({noClick:!0}).on("tap",function(){$(this).is(".dropdown-active")&&(TSShared.getTopWindowObj().location.href=$(this).attr("href"))}),e.headerElem.hoverIntent({over:function(){},out:function(){e.killMegaMenu()}}),$(".nav-item").not(".has-dropdown").hoverIntent({over:function(){e.killMegaMenu()},out:function(){}}),$(TSShared.scrollableElementSelector).on("scroll",function(){e.killMegaMenu(),e.transparentOnLoad&&e.makeHeaderTransparentOrOpaque(),e.updateHeaderScrollPosition(),e.stickyHeader(),AOS.refresh()}),e.transparentOnLoad&&e.makeHeaderTransparentOrOpaque(),e.updateHeaderScrollPosition(),e.stickyHeader()},e.prototype.activateMegaMenu=function(e){var e=$(e),t=e.siblings(".mega-menu");e.hasClass("dropdown-active")||($(".has-dropdown > a").not(e).removeClass("dropdown-active"),e.addClass("dropdown-active"),this.transparentOnLoad&&(t.hasClass("hide")?(this.headerElem.removeClass("transparent"),this.headerElem.addClass("opaque")):this.makeHeaderTransparentOrOpaque()),t.removeClass("hide"),$(".mega-menu").not(t).addClass("hide")),$(".thumbnail-handle-wrapper.item-active figure").addClass("animate__animated animate__fadeInUpSmall")},e.prototype.killMegaMenu=function(){var e=this;setTimeout(function(){$(".thumbnail-handle-wrapper figure").removeClass(),$(".dropdown-active:hover").length<1&&($(".mega-menu").addClass("hide"),$(".has-dropdown > a").removeClass("dropdown-active"),e.transparentOnLoad&&e.makeHeaderTransparentOrOpaque())},150)},e.prototype.makeHeaderTransparentOrOpaque=function(){$(TSShared.scrollableElementSelector).scrollTop()<25?this.headerElem.removeClass(this.classDefinitions.opaque).addClass(this.classDefinitions.transparent):this.headerElem.removeClass(this.classDefinitions.transparent).addClass(this.classDefinitions.opaque)},e.prototype.updateHeaderScrollPosition=function(){$(TSShared.scrollableElementSelector).scrollTop()<25?(this.headerElem.removeClass(this.classDefinitions.scrolled),this.headerElem.addClass(this.classDefinitions.atTop),this.headerElem.addClass(this.classDefinitions.changelogHighlight)):(this.headerElem.addClass(this.classDefinitions.scrolled),this.headerElem.removeClass(this.classDefinitions.atTop),this.headerElem.removeClass(this.classDefinitions.changelogHighlight))},e.prototype.stickyHeader=function(){$(".nav-top-bar").visible(!0)?this.headerElem.removeClass(this.classDefinitions.fixedPosition):this.headerElem.addClass(this.classDefinitions.fixedPosition)},e}()),MiniCartController=function(){function e(){this.loadingClassName="loading",this.inlineLoadingClassName="cart-update-loader",this.productItemTemplate='<li><div class="img_wrapper"><a href="ProductUrl"><img src="ProductImage" alt="ProductTitle" /></a></div><div class="title_wrapper"><a href="ProductUrl">ProductTitleName</a><span><span>SizeText</span>ProductOption</span><span><span>PriceText</span>ProductPrice</span><span><span>QuantityText</span>Quantity</span><ul class="line-item-properties">LinePropertyItemDetails</ul></div><div class="remove"><a href="#" data-itemid="ProductID">&times;</a></div></li>',this.subTotalPrice=0,this.notFreeGiftItemsCount=0,this.freeGiftItemAddedInCart=!1,this.recentlyAddedVariant=null,this._assignProps(),this._bindEvents()}return e.prototype.reload=function(){var t=this;1===$("#empty",this.miniCartElem).length&&this._showMainLoader(),$.getJSON("/cart.js",function(e){t.onCartLoaded(e)})},e.prototype.onCartLoaded=function(e){this._updateNavIcon(e),this._buildItems(e),this._bindEvents()},e.prototype.onCartUpdated=function(e){this._buildItems(e),this._updateNavIcon(e)},e.prototype._assignProps=function(){this.miniCartElem=$(TSGlobals.themeSettings.miniCartSectionSelector),this.miniCartWrapperElem=$(".wrapper",this.miniCartElem),this.emptyCartMessageElem=$(".empty-cart",this.miniCartElem),this.topCartCountElem=$(".top-item-count"),this.drawerLoader=$("#SnapDrawersWrapper .drawer-loader"),this.subTotalPrice=$("#checkout .cart-total",this.miniCartElem).length?parseInt($("#checkout .cart-total",this.miniCartElem).attr("data-sub-total-price"),10)/100:0,this.notFreeGiftItemsCount=$(".cart-item",this.miniCartElem).not(".free-gift-item").length,this.freeGiftItemAddedInCart=0<$(".cart-item.free-gift-item",this.miniCartElem).length},e.prototype._updateNavIcon=function(e){var e=e.item_count,t=$(".utility-link.utility-icon.home-icon"),a=$(".utility-link.utility-icon.cart-icon");e?(t.addClass("hidden"),a.removeClass("hidden")):(t.removeClass("hidden"),a.addClass("hidden"))},e.prototype._bindEvents=function(){var l=this,a=$(".card-cart-item__remove a",l.miniCartElem),c=(a.not(".binded").click(function(e){e.preventDefault(),a.addClass("binded");var e=$(e.target).parents(".cart-item").first(),t=e.attr("data-variant-id");l._showInlineLoader(e),$.ajax({url:"/cart/change.js",type:"POST",dataType:"json",data:{quantity:0,id:t}}).done(function(e){l._buildItems(e)}).fail(function(){})}),$(".quantity-updator",l.miniCartElem)),t=(c.not(".binded").click(function(e){e.preventDefault(),c.addClass("binded");var e=$(e.target),t=e.parents(".cart-item").eq(0),a=t.find(".quantity_text"),i=t.find(".quantity-field"),n=i.attr("data-variant-management"),o=i.attr("data-variant-policy"),r=i.attr("data-variant-quantity"),n=(i.attr("data-variant-available"),"shopify"===n.toLowerCase()&&"deny"===o.toLowerCase()?parseInt(r,10):1/0),s=t.find(".quantity_notification"),o=parseInt(a.text(),10),r=(r="increase"===$(e).data("action")?o+1:o-1)<0?0:r;a.text(r),i.val(r),0<n&&(n<r?(a.text(n),i.val(n),s.text("Only "+n+" in stock"),s.fadeIn("slow",function(){setTimeout(function(){s.fadeOut("slow")},2e3)})):(TSShared.quantityUpdatorTimer&&clearTimeout(TSShared.quantityUpdatorTimer),l._showInlineLoader(t),TSShared.quantityUpdatorTimer=setTimeout(function(){l._updateCart(t)},2e3)))}),$(".donation-product-add input",l.miniCartElem));t.not(".binded").click(function(e){e.preventDefault();e=$('input[name="id"]:checked',$(this).parents(".donation-product-variants")).val();e&&$.ajax({type:"post",url:"/cart/add.js",data:{quantity:1,id:e,properties:{}},beforeSend:function(){t.val(t.attr("data-transition-text"))},complete:function(e){200===e.status?l.reload():t.val(e.responseText.message||"Error"),setTimeout(function(){t.val(t.attr("data-original-text"))},3e3)}})})},e.prototype._updateCart=function(t){var a=this,e=parseInt(t.attr("data-variant-id"),10),i=parseInt(t.find(".quantity-field").val(),10);$(".card-cart-item__subtotal",t);$.ajax({type:"POST",url:"/cart/change.js",data:{quantity:i,id:e},dataType:"json",beforeSend:function(){},complete:function(e){200===e.status&&a.onCartUpdated(e.responseJSON),a._hideInlineLoader(t)}})},e.prototype._buildItems=function(i){var n=this;n._updateTopCartCount(i),TSSharedServices.renderSection("/cart","form-cart").then(function(e){var t,a;e&&(t=$(".cart-main-wrapper",n.miniCartElem),a=$(".cart-main-wrapper",$(e)),t.html(a.html()),n._assignProps(),n._bindEvents(),n._hideMainLoader(),TSShared.cartPage&&(T3Core.Debug("MiniCartController, we are on cart page, reloading main cart contents"),TSShared.cartPage.reloadContent($(e))),TSShared.freeGiftController.process(function(){n.reload()}),n._onFinishItemsBuild(i))})},e.prototype._onFinishItemsBuild=function(e){T3Core.Debug("Afterpay: _onFinishItemsBuild"),TSGlobals.isWholesaleStore||TSShared.loadAfterPay(TSGlobals.afterPaySelectors,e.total_price.toString())},e.prototype._updateTopCartCount=function(e){this.topCartCountElem.text(" ("+e.item_count+")")},e.prototype._initPerfectScrollBar=function(){this.miniCartElem.perfectScrollbar()},e.prototype._updatePerfectScrollBar=function(){this.miniCartElem.perfectScrollbar("update")},e.prototype._showMainLoader=function(){$("body").hasClass("snapjs-right")&&this.drawerLoader.removeClass(TSGlobals.themeSettings.hiddenClassName)},e.prototype._hideMainLoader=function(){this.drawerLoader.addClass(TSGlobals.themeSettings.hiddenClassName)},e.prototype._showInlineLoader=function(e){$(".card-cart-item__subtotal",e).addClass(this.inlineLoadingClassName)},e.prototype._hideInlineLoader=function(e){$(".card-cart-item__subtotal",e).addClass(this.inlineLoadingClassName)},e}(),TSFreeGiftController=function(){function e(){this.isFreeGiftActive=!1,this.callBack=null,this.freeGiftProduct=null,this.isFreeGiftActive=""!==TSGlobals.freeGiftProductHandle&&null!==TSGlobals.freeGiftProductHandle}return e.prototype.process=function(e){var a=this;a.callBack=e,$.when(TSShared.getCart()).then(function(e){var t=a._needToAddFreeGift(e),e=a._needToRemoveFreeGift(e);t?a._addFreeGift():e&&a._removeFreeGift()})},e.prototype._setFreeGiftProduct=function(t){var a=this;a.freeGiftProduct?t():TSShared.getItem({handle:""+TSGlobals.freeGiftProductHandle,complete:function(e){200===e.status&&e.responseJSON&&(a.freeGiftProduct=e.responseJSON,t())}})},e.prototype._cartHasRetailItems=function(e){var t=!1;if(e&&e.items&&e.items.length)for(var a=0;a<e.items.length;a++){var i=e.items[a];if(void 0!==i.properties._Phase)if("retail"===i.properties._Phase){t=!0;break}}return t},e.prototype._cartHasFreeGiftItem=function(e){return 0<$(".cart-item.free-gift-item").length},e.prototype._hasEligibleItemsForFreeGift=function(){return 0<$(".cart-item[data-promo-eligible]").not(".free-gift-item").length},e.prototype._needToAddFreeGift=function(e){var t=this._cartHasFreeGiftItem(e),a=TSGlobals.freeGiftThreshold,i=TSGlobals.freeGiftReceived,n=this._cartHasRetailItems(e),e=e.total_price/100,o=this._hasEligibleItemsForFreeGift();return this.isFreeGiftActive&&!t&&a<e&&!i&&n&&o},e.prototype._needToRemoveFreeGift=function(e){var t=!1,a=this._cartHasFreeGiftItem(e),i=TSGlobals.freeGiftThreshold,n=TSGlobals.freeGiftReceived,o=this._cartHasRetailItems(e),e=e.total_price/100,r=this._hasEligibleItemsForFreeGift();return t=this.isFreeGiftActive&&a&&(!o||e<=i||n||!r)?!0:t},e.prototype._addFreeGift=function(){var t=this;t._setFreeGiftProduct(function(){var e;t.freeGiftProduct&&(e=t.freeGiftProduct.variants[0]).available&&(e={postOptions:[{quantity:1,id:e.id}],complete:function(e){200===e.status&&(TSShared.getCart().done(function(e){TSShared.updateCartAlerts(e)}),t.callBack&&"function"==typeof t.callBack&&t.callBack())}},TSShared.addItem(e))})},e.prototype._removeFreeGift=function(){var t=this;t._setFreeGiftProduct(function(){t.freeGiftProduct&&(console.log(t.freeGiftProduct),TSShared.removeItem({itemId:t.freeGiftProduct.variants[0].id,beforeSend:function(){},complete:function(e){t.callBack&&"function"==typeof t.callBack&&t.callBack()}}))})},e}(),debounce=function(i,n,o){var r;return function(){var e=this,t=[i,n,o],a=o&&!r;clearTimeout(r),r=setTimeout(function(){r=null,o||i.apply(e,t)},n),a&&i.apply(e,t)}},TSStatsCounter=(Array.prototype.find||(Array.prototype.find=function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,a=Object(this),i=a.length>>>0,n=arguments[1],o=0;o<i;o++)if(t=a[o],e.call(n,t,o,a))return t}),window.onerror=function(e,t,a,i,n){try{var o;"function"==typeof ga&&TSGlobals.isPublishedLiveTheme&&(o={msg:e,url:t,lineNo:a,columnNo:i,error:n},ga("send","exception",{exDescription:JSON.stringify(o),exFatal:!1}))}catch(e){}},$(document).ajaxError(function(e,t,a){try{var i;"function"==typeof ga&&TSGlobals.isPublishedLiveTheme&&(i={url:a.url,error:e.result},ga("send","Jquery Ajax Error",{exDescription:JSON.stringify(i),exFatal:!1}))}catch(e){}}),!function(D){var e,t=this;D.giftCardNoteFieldPlaceholder="NOTE\n\nNot required but always nice to have.",D.scrollableElementSelector=".secondary-content-wrapper",D.snapperEntryPoint=900,D.lastElemActiveOnSnapperOpened=null,D.snapper=null,D.miniCartController=null,D.keyboardShortcut=null,D.snapperDrawers=null,D.snapperToolBar=null,D.headerNavigation=null,D.desktopHeaderEventsBinded=!1,D.enableSnapperOnDesktop=!1,D.customerRegistrationInProgress=!1,D.quantityUpdatorTimer=0,D.cartPage=null,D.headerController=null,D.snapDrawerLoaded=!1,D.hive=null,D.tsGiftCardPage=null,D.freeGiftController=null,D.afterPayScriptLoaded=0,D.WorkshopPhasesValues={preFunding:"pre-funding",crowdSourced:"crowd-sourced",preOrder:"pre-order",inProduction:"in-production",retail:"retail",deleted:"deleted"},D.init=function(){D.mobilePaidTrafficViewCheck(),D.setHiveByUtmUrlParams(),D.fontLoading(),D.bindWindowDependentFuncs(),D.initT3AnchorScroll(),D.changelogNotifications(),D.rightDrawerSectionsSwitcher.init(),D.bindCheckoutTrackingEvents(),D.initSwitchCandy(),D.initForms(),D.initAjaxLogin(),D.initCopyToClipboad(),D.keyboardShortcut=new TSKeyboardShortcuts,D.keyboardShortcut.init(),D.miniCartController=new MiniCartController,$(".shoppable-panel").length&&D.initShopDots(),D.bindRightDrawerAccountBannerEvents(),D.initAccountBanner(),D.rightSideBarLoginSwitchCandy.initialize(),D.freeGiftController=new TSFreeGiftController,D.freeGiftController.process(function(){D.reloadMiniCart()}),D.bindScrollToElement(),D.initResponsiveVideo()},D.getTopWindowObj=function(){return window.top||window},D.initResponsiveVideo=function(e){e=e||".responsive-video";document.querySelector(e)&&(T3Core.Debug("TS Video Src Switcher initialized: "+e),new TSVideoSrcSwitcher(e))},D.initCountdowns=function(){var e=$(".countdown");e.length&&e.each(function(e){var t,a=$(this).data("ends"),i=null,n=(i=TSGlobals.timezoneOffSet?(t=a.replace(/-/g,"/")+TSGlobals.timezoneOffSet,new Date(t)):(t=dateFns.parse(a,"YYYY-MM-DD HH:mm:ss",new Date),dateFns.format(t,"YYYY-MM-DD HH:mm:ss")),$(this).data("prepend")||""),o=$(this).data("append")||"",r="";$(this).countdown(i).on("update.countdown",function(e){r=e.offset.totalDays<1?"%-H:%M:%S":$(this).hasClass("expanded-days")?"%-D day%!d %-Hh %Mm %Ss":$(this).hasClass("digitale")?"%-D : %H : %M : %S":"%-Dd %Hh %Mm %Ss",$(this).html(e.strftime(n+'<span class="timer">'+r+"</span>"+o))})})},D.initShopDots=function(){$(".shoppable-panel").each(function(){var a=$(".shop-dots li",$(this));a.each(function(e){var e=$('<i class="shop-dot" data-index="'+e+'" />'),t=$(this).data("posy"),a=$(this).data("posx"),i=$(this).data("cta");e.css({top:t,left:a}).insertAfter($(this)),$(this).append('<span class="product-close" />'),$("a",this).append('<span class="product-cta">'+i+"</span>")}),$(".shop-dot",this).on("click",function(e){e.stopPropagation();var t=$(this).data("index");$(a).each(function(e){e!==t||$(this).is(":visible")?$(this).hide():$(this).fadeIn()})}),$(".product-close").on("click",function(e){e.preventDefault(),a.hide()}),$(this).on("click",function(e){a.hide()})})},D.bindCheckoutTrackingEvents=function(){$('#checkout input[name="checkout"]').bind("click",function(){T3Core.TrackFacebookInitiateCheckout({value:parseInt($("#subtotal-price").attr("data-price"),10)/100})})},D.loadSnapDrawers=function(){$("#SnapDrawersWrapper").css("opacity",1),$("#SnapDrawersWrapper .drawer-loader").addClass(TSGlobals.themeSettings.hiddenClassName),D.snapDrawerLoaded=!0},D.fontLoading=function(){var e,t,a,i,n;sessionStorage.fontLoadedSale?($("html").addClass("fonts-loaded-sale"),T3Core.Debug("Sale font loaded previously")):(t=new FontFaceObserver("Freight Display Pro W01",{weight:300,style:"normal"}),a=new FontFaceObserver("Freight Display Pro W01",{weight:400,style:"normal"}),window.Promise.all([t.load(),a.load()]).then(function(){$("html").addClass("fonts-loaded-sale"),sessionStorage.fontLoadedSale=!0,T3Core.Debug("Sale font loaded")},function(){T3Core.Debug("Sale font loading error")})),sessionStorage.fontLoadedSerif?($("html").addClass("fonts-loaded-serif"),T3Core.Debug("Serif font loaded previously")):(t=new FontFaceObserver("HCo Chronicle Display",{weight:300,style:"normal"}),a=new FontFaceObserver("HCo Chronicle Display",{weight:300,style:"italic"}),i=new FontFaceObserver("HCo Chronicle Display",{weight:600,style:"normal"}),n=new FontFaceObserver("HCo Chronicle Display",{weight:600,style:"italic"}),e=new FontFaceObserver("HCo Chronicle Display",{weight:800,style:"normal"}),window.Promise.all([t.load(),a.load(),i.load(),n.load(),e.load()]).then(function(){$("html").addClass("fonts-loaded-serif"),sessionStorage.fontLoadedSerif=!0,T3Core.Debug("Serif font loaded")},function(){T3Core.Debug("Serif font loading error")})),sessionStorage.fontLoadedSans?($("html").addClass("fonts-loaded-sans"),T3Core.Debug("Sans font loaded previously")):(t=new FontFaceObserver("Avenir Next W01",{weight:400,style:"normal"}),a=new FontFaceObserver("Avenir Next W01",{weight:400,style:"italic"}),i=new FontFaceObserver("Avenir Next W01",{weight:700,style:"normal"}),n=new FontFaceObserver("Avenir Next W01",{weight:800,style:"normal"}),window.Promise.all([t.load(),a.load(),i.load(),n.load()]).then(function(){$("html").addClass("fonts-loaded-sans"),sessionStorage.fontLoadedSans=!0,T3Core.Debug("Sans font loaded")},function(){T3Core.Debug("Sans font loading error")}))},D.bindWindowDependentFuncs=function(){D.bindGlobalSnapperEvents(),D.headerController=new TSHeaderController,D.headerController.init(),D.initShowNavSearch(),D.desktopHeaderEventsBinded=!0,$(window).width()<D.snapperEntryPoint?AOS.init({disable:!0}):AOS.init({easing:"ease-in-out",duration:1e3}),$(window).on("debouncedresize",function(e){$(window).width()<D.snapperEntryPoint?AOS.init({disable:!0}):AOS.init({easing:"ease-in-out",duration:1e3})})},D.bindGlobalSnapperEvents=function(){D.initGlobalSnapper(),D.initSubMenuAccordion()},D.initGlobalSnapper=function(){var i;D.snapper=new Snap({element:$("#snapper-content")[0]}),$("#open-left").on("click",function(e){return $("body").hasClass("snapjs-left")?D.snapper.close():D.snapper.open("left"),D.snapDrawerLoaded||D.loadSnapDrawers(),e.preventDefault(),!1}),$(".open-right-drawer").on("click",function(e){e.preventDefault(),D.lastElemActiveOnSnapperOpened=$(this);var e=D.rightDrawerSectionsSwitcher.visibleSection,t=$(this).attr("data-section-to-show"),a=$("body").hasClass("snapjs-right"),i=$(this).attr("data-sub-section-to-show");D.snapDrawerLoaded||D.loadSnapDrawers(),D.afterPayScriptLoaded||D.loadAfterPayScriptIfNeeded(function(){D.loadAfterPay([],TSGlobals.cart_total)}),t?(t===e&&a?D.snapper.close():(a||D.snapper.open("right"),e=D.rightDrawerSectionsSwitcher.getSwitchElement(t),D.rightDrawerSectionsSwitcher.showSection(e)),i&&(t=$('.section-switcher[data-section-to-show="'+i+'"]')).length&&t.trigger("click")):(D.rightDrawerSectionsSwitcher.showDefaultSectionForMobile(),a?D.snapper.close():D.snapper.open("right"))}),$(".snap-close").click(function(e){e.preventDefault(),D.snapper.close()}),D.snapper.on("end",function(e){var t=$("body");(t.hasClass("snapjs-right")||t.hasClass("snapjs-left"))&&t.removeClass("snapjs-right snapjs-left")}),D.snapper.on("open",function(e){var t=$("#SnapDrawersWrapper"),a=$("body");i&&clearTimeout(i),i=setTimeout(function(){var e=a.hasClass("snapjs-right")?$(".snap-drawer.snap-drawer-right",t):$(".snap-drawer.snap-drawer-left",t);D.onModalVisible({elemToFocusOn:e,modalWrapper:t})},2e3)}),D.snapper.on("close",function(e){D.onModalClosed(D.lastElemActiveOnSnapperOpened)})},D.initSubMenuAccordion=function(){$(".accordion-header").click(function(e){e.preventDefault();$(".snap-drawer-left form");var t,a=$(".snap-drawer-left .menu-utility"),i=$(this).parent(),n=$(".accordion-submenu",i),o=i.siblings();return i.hasClass("h-active")?(i.removeClass("h-active"),n.removeClass("active"),n.hide(),o.show(),a.show()):(t=$(".accordion-submenu.active")).length?t.hide(function(){$(".accordion-submenu").removeClass("active"),$(".accordion-header").removeClass("h-active"),i.addClass("h-active"),n.addClass("active"),n.show(),o.hide(),a.hide()}):(i.addClass("h-active"),n.addClass("active"),n.show(),o.hide(),a.hide()),e.stopPropagation(),!1})},(e=D.rightSideBarLoginSwitchCandy||(D.rightSideBarLoginSwitchCandy={})).initialize=function(){var e=$(TSGlobals.themeSettings.loginSectionSelector+" .section-switcher");e.on("click",function(e){e.preventDefault(),D.rightSideBarLoginSwitchCandy.switchSection($(this))}),e.on("touchstart",function(e){e.preventDefault(),D.rightSideBarLoginSwitchCandy.switchSection($(this))})},e.switchSection=function(e){$(TSGlobals.themeSettings.loginSectionSelector+" .switchable-section").hide(),$("#"+e.attr("data-section-to-show")).fadeIn("fast"),e.is("label")&&(e=e.prop("for"))&&(e=$("#"+e)).length&&e.prop("name")&&($('input[name="'+e.prop("name")+'"]',e.parent()).prop("checked",!1),e.prop("checked",!0))},(e=D.sharedSwitchCandy||(D.sharedSwitchCandy={})).initialize=function(t){var e=$(t+" .section-switcher");e.on("click",function(e){e.preventDefault(),D.sharedSwitchCandy.switchSection($(this),t)}),e.on("touchstart",function(e){e.preventDefault(),D.sharedSwitchCandy.switchSection($(this),t)})},e.switchSection=function(e,t){$(t+" .switchable-section").hide(),$("#"+e.attr("data-section-to-show")).fadeIn("fast"),e.is("label")&&(t=e.prop("for"))&&(e=$("#"+t)).length&&e.prop("name")&&($('input[name="'+e.prop("name")+'"]',e.parent()).prop("checked",!1),e.prop("checked",!0))},D.changelogNotifications=function(){var e="changelogUpdatesViewed",t=$(".changelog-new-indicator"),a=$("sup.changelog-count"),i=$(".open-changelog"),n=$(".changelog-promo-bubble"),o=T3Core.CookieManager.ReadCookie(e),r=$.trim(a.eq(0).text());D.bindChangeLogTrackingEvents(),T3Core.Debug("Changelog Updates Count: "+r),T3Core.Debug("Changelog Updates Viewed (from cookie): "+o),o<r&&(t.show(),n.show(),a.addClass("alert"),T3Core.Debug("Changelog Promo bubble alert")),i.click(function(){n.hide(),t.hide(),a.removeClass("alert"),T3Core.CookieManager.CreateCookie(e,r,7),T3Core.Debug("Set Changelog Updates Viewed Cookie: "+r)})},D.bindChangeLogTrackingEvents=function(){var e=$(TSGlobals.themeSettings.changelogSectionSelector);$("article a",e).on("click",function(e){var t=$(this).text(),a=$(this).attr("href"),i=$(this).parents("article").first().index()+1;ga("send","event","ChangelogDrawer",a,t,i)})},D.initShowNavSearch=function(){$(".nav-search").click(function(e){e.preventDefault(),$(this).siblings("form").show(),$(this).hide(),$(".secondary-nav > li").not(":last-child").hide(),$("#search-box").focus().animate({width:"12em"},300)}),$(".nav-search + form button").click(function(e){var t;$("#search-box").val()||(e.preventDefault(),t=$(this).parents("form"),$("#search-box").animate({width:"0"},300,function(){t.hide(),$(".nav-search").show(),$(".secondary-nav > li").not(":last-child").show()}))})},D.initT3AnchorScroll=function(){$(".scroll-to-elem").T3AnchorScroll({customContainer:D.scrollableElementSelector,easing:"easeInOutCubic",delay:1e3})},D.manageCustomer=function(e,t){D.customerRegistrationInProgress||(D.customerRegistrationInProgress=!0,e="/tools/communication-preferences?email="+encodeURIComponent(e)+"&interest="+t+"&action=manageCustomer&href="+window.location.href,$.ajax({url:e,type:"GET",success:function(e){D.customerRegistrationInProgress=!1},error:function(e){D.customerRegistrationInProgress=!1}}))},D.manageCustomerSignup=function(a,i){var e,t,n,o;D.customerRegistrationInProgress||(D.customerRegistrationInProgress=!0,e=$("input.manage-customer-field",a),t="/tools/communication-preferences?action=manageCustomer&href="+window.location.href+"&",n=[],o=a.attr("data-callback-fn"),e.each(function(e,t){n.push($(t).prop("name").toLowerCase()+"="+encodeURIComponent($(t).val()))}),t+=n.join("&"),$.ajax({url:t,type:"GET",success:function(e){var t;D.customerRegistrationInProgress=!1,o&&(t=D[o])&&t(JSON.parse(e),a),i&&i(JSON.parse(e))},error:function(e){D.customerRegistrationInProgress=!1,i&&i(null)}}))},D.giveAwaySignupCallBack=function(e,t){e&&e.is_existing_customer?($('#login_email input[type="email"]').val(e.email),$(".intro").html("Sign in using your password below&hellip;"),$(".section-switcher.login-link",t).trigger("click")):$(".klaviyo_messages",t).html('<div class="final_message">Check Your Inbox!</div>')},D.rightDrawerSectionsSwitcher={init:function(){D.rightDrawerSectionsSwitcher.bindEvents()},bindEvents:function(){$(".drawer-control li").click(function(){D.rightDrawerSectionsSwitcher.showSection($(this))})},showSection:function(e){e.siblings().removeClass("active"),e.addClass("active");var t=$(".section-to-show-wrappers"),e=(D.rightDrawerSectionsSwitcher.visibleSection=e.attr("data-section-to-show"),$(D.rightDrawerSectionsSwitcher.visibleSection,t));e.siblings().addClass(TSGlobals.themeSettings.hiddenClassName),e.removeClass(TSGlobals.themeSettings.hiddenClassName)},showDefaultSectionForMobile:function(){var e,t=$(".section-to-show-wrappers"),t=$(".mini-cart",t);1===$("#empty",t).length?$('.drawer-control li[data-section-to-show="'+TSGlobals.themeSettings.changelogSectionSelector+' "]').hasClass(TSGlobals.themeSettings.hiddenClassName)&&(e=D.rightDrawerSectionsSwitcher.getSwitchElement(""+TSGlobals.themeSettings.loginSectionSelector),D.rightDrawerSectionsSwitcher.showSection(e)):(e=D.rightDrawerSectionsSwitcher.getSwitchElement(""+TSGlobals.themeSettings.miniCartSectionSelector),D.rightDrawerSectionsSwitcher.showSection(e))},getSwitchElement:function(e){return $('.drawer-control li[data-section-to-show="'+e+'"]')},getFirstNotHiddenSwitchElement:function(){return $(".drawer-control > li").not(".hidden").eq(0)},visibleSection:""},D.reloadMiniCart=function(){D.miniCartController||(D.miniCartController=new MiniCartController),D.miniCartController.reload()},D.loadAfterPay=function(e,t){if("undefined"!=typeof presentAfterpay)for(var a=0,i=e;a<i.length;a++){var n,o=i[a];$(o).length&&((n=TSGlobals.afterPayDefaultConfigs).priceSelector=o,n.amount=t,T3Core.Debug("Afterpay - price: "+t+", selector: "+o),new presentAfterpay(n).init())}else D.loadAfterPayScriptIfNeeded(function(){D.loadAfterPay(e,t)})},D.loadAfterPayScriptIfNeeded=function(e){D.afterPayScriptLoaded?(T3Core.Debug("AfterPay - script already loaded, callback called"),e&&e()):(T3Core.Debug("AfterPay - loading script"),$.getScript("https://static-us.afterpay.com/javascript/present-afterpay.js").done(function(){T3Core.Debug("AfterPay - script loaded, callback called"),D.afterPayScriptLoaded=1,e&&e()}).fail(function(e,t,a){console.log("Afterpay - script loading failed",a)}))},D.initSwitchCandy=function(){var t=$("#snapper-content"),a=!1;0===t.length&&(t=$("#wholesale-entry"),a=!0),$(".section-switcher",t).bind("click touchstart",function(e){a&&e.preventDefault(),D.switchSection($(this),t),$(this).hasClass("recover-link")&&(e=$("#customer_email").val())&&$("#recover-email").val(e)}),D.initSideBarSwitchCandy(),D.loadHashes()},D.initSideBarSwitchCandy=function(){var a=$("#right-drawer-account");$(".section-switcher",a).bind("click touchstart",function(e){var t;D.switchSection($(this),a),$(this).hasClass("recover-link")&&(t=$("#customer_email").val())&&$("#recover-email").val(t)})},D.switchSection=function(e,t){$(".switchable-section",t).hide(),$("#"+e.attr("data-section-to-show"),t).fadeIn("fast"),$(window).trigger("resize")},D.showResetPasswordSuccessElem=function(){$(".reset-password-email-sent").removeClass("hidden")},D.loadHashes=function(){var e=$("#snapper-content");switch(D.getTopWindowObj().location.hash){case"#recover-password":$(".switch-toggle #existing-customer-switch",e).trigger("click"),$(".section-switcher.recover-link",e).trigger("click");break;case"#new-customer":$(".switch-toggle #new-customer-switch",e).trigger("click");break;case"#guest":$(".switch-toggle #guest-switch",e).trigger("click");break;case"#customer":$(".switch-toggle #existing-customer-switch",e).trigger("click");break;case"#recover":$("#forgot_password .recover-link",e).trigger("click");var t=$("body#login");t.length&&$("#forgot_password .recover-link",t).trigger("click");break;case"#reset-password-email-sent":D.showResetPasswordSuccessElem()}},D.validate=function(e){var t=e.val(),a=e.attr("type");t?e.removeClass("has-error").addClass("has-success"):e.addClass("has-error").removeClass("has-success"),t&&"email"===a&&(/(.+)@(.+){2,}\.(.+){2,}/.test(t)?e.removeClass("has-error").addClass("has-success"):e.addClass("has-error").removeClass("has-success"))},D.check=function(e){var t=$(".has-error",e),a=0;return t.each(function(){a++}),a?$(e).removeClass("is-valid").addClass("is-invalid"):$(e).removeClass("is-invalid").addClass("is-valid"),a},D.initForms=function(){var e=$(".login-container form, .template-customers form").filter(function(){return!$(this).parent().hasClass("customer-address-form-wrapper")}),t=e.find('input[type="text"], input[type="email"], input[type="password"]');e.addClass("is-invalid").prop("autocomplete","off"),t.addClass("has-error"),t.on("blur change",function(){D.validate($(this)),D.check($(this).parents("form"))}),e.on("submit",function(e){if($(".is-required",this).each(function(){D.validate($(this))}),D.check(this))return!1})},D.initAjaxLogin=function(){var t=$(TSGlobals.themeSettings.loginSectionSelector),e=$("#customer_login",t),a=$("#create_customer",t),i=$("#sidebar-recover-password form",t);e.on("submit",function(e){e.preventDefault();e=$(this);$("input#customer_email",e).val()&&$("input#customer_password",e).val()&&$.ajax({type:"POST",url:e.attr("action"),data:e.serialize(),success:function(e){D.ajaxLoginCallBack(e,!0)},error:function(e,t,a){D.onAjaxLoginError()}})}),a.on("submit",function(e){e.preventDefault(),$("input#first_name",a).val()&&$("input#last_name",a).val()&&$("input#email",a).val()&&$("input#password",a).val()&&$.ajax({type:"POST",url:a.attr("action"),data:a.serialize(),success:function(e){D.ajaxLoginCallBack(e),$("#new-customer-switch",t).trigger("click")},error:function(){D.onAjaxLoginError()}})}),i.on("submit",function(e){var t;e.preventDefault(),$("input#recover-email",i).val()&&(t=$('input[name="return_to"]',i).val(),$.ajax({type:"POST",url:i.attr("action"),data:i.serialize(),success:function(e){D.ajaxLoginCallBack(e),D.passwordResetSuccessCallBack(t)},error:function(e,t,a){D.onAjaxLoginError()}}))})},D.ajaxLoginCallBack=function(e,t){void 0===t&&(t=!1);var a=$(TSGlobals.themeSettings.loginSectionSelector),e=$(e),e=$(""+TSGlobals.themeSettings.loginSectionSelector,e);t&&e.hasClass("customer-already-logged-in")&&D.onAjaxLoginSuccess(),a.html(e.html()),D.initSideBarSwitchCandy(),D.initForms(),D.initAjaxLogin()},D.passwordResetSuccessCallBack=function(e){var t=$(TSGlobals.themeSettings.loginSectionSelector),a=$("#sidebar-recover-password form",t);$(".bad .errors li",a).length?$("#forgot_password a",t).trigger("click"):($("#cancel-reset",t).trigger("click"),-1!==e.indexOf("#reset-password-email-sent")&&D.showResetPasswordSuccessElem())},D.onAjaxLoginError=function(){D.getTopWindowObj().location.href="/account"},D.onAjaxLoginSuccess=function(){window.location.reload()},D.bindRightDrawerAccountBannerEvents=function(){$(".snap-drawer [data-section-to-show]").on("click",function(){D.initAccountBanner()})},D.initAccountBanner=function(){var e,t,a=$(".account-dynamic-bg-container");a.length&&(e=0,(t=T3Core.CookieManager.ReadCookie(TSGlobals.themeSettings.accountBannerCookieName))?(e=parseInt(t,10)+1)>=TSGlobals.accountBgBanners.length?(T3Core.CookieManager.CreateCookie(TSGlobals.themeSettings.accountBannerCookieName,0),e=0):T3Core.CookieManager.CreateCookie(TSGlobals.themeSettings.accountBannerCookieName,e):(e=Math.floor(4*Math.random())+1,T3Core.CookieManager.CreateCookie(TSGlobals.themeSettings.accountBannerCookieName,e)),a.css({backgroundImage:"linear-gradient(rgba(0,0,0,.05),rgba(0,0,0,.2)),url("+TSGlobals.accountBgBanners[e]+")"}))},D.closeExistingFeatherLight=function(){var e=$.t3featherlight.current()||$.featherlight&&$.featherlight.current();e&&e.close()},D.initCopyToClipboad=function(){var o=$(".copy-to-clipboard");o.length&&(o.on("click",function(e){e.preventDefault();var t,e=$(this).parents($(this).attr("data-parent-selector")),a=$(this).data("copied-msg"),i=$(this).attr("data-element-selector"),e=$(""+i,e),n=(e.length&&(e.is("input")?(e.focus(),e.select(),document.execCommand("copy")):(i=(i+"-input").replace(".","").replace("#",""),$('<input id="'+i+'" class="copy-to-clipboard-input" value="'+e.text()+'" contenteditable="true" readonly="true"/>').appendTo($("body")),i=$("#"+i),navigator.userAgent.match(/ipad|ipod|iphone/i)?((t=document.createRange()).selectNodeContents(i[0]),(n=window.getSelection())&&(n.removeAllRanges(),n.addRange(t),i[0].setSelectionRange(0,999999))):(i.trigger("focus"),i.trigger("select")),document.execCommand("copy"),i.remove()),o.html(a)),e.text());ga("send","event","LoyaltyLion","Referral Link Copy",n)}),o.on("mouseout",function(){var e=$(this).data("copy-msg");setTimeout(function(){o.html(e)},500)}))},D.setHiveByUtmUrlParams=function(){var t,e,a,i=!1,n=T3Core.GetQueryStringByKey("utm_source"),o=T3Core.GetQueryStringByKey("utm_medium"),r=(T3Core.GetQueryStringByKey("utm_content")&&T3Core.GetQueryStringByKey("utm_content"),T3Core.GetQueryStringByKey("utm_campaign"));if(n&&o&&r)for(var s=0;s<TSGlobals.hives.length;s++){var l=TSGlobals.hives[s];l.utm_source.toLowerCase()===n.toLowerCase()&&l.utm_medium.toLowerCase()===o.toLowerCase()&&l.utm_campaign.toLowerCase()===r.toLowerCase()&&(D.hive=l,D.hive.keepState&&(i=!0,T3Core.CookieManager.CreateCookie(TSGlobals.themeSettings.hiveCookieName,D.hive.name)))}i||(t=T3Core.CookieManager.ReadCookie(TSGlobals.themeSettings.hiveCookieName))&&0!==(e=TSGlobals.hives.filter(function(e){return e.name.toLowerCase()===t.toLowerCase()&&e.isActive})).length&&(D.hive=e[0]),D.hive&&D.hive.isActive&&((a=$(".nav-top-bar .hive-promo")).length&&setTimeout(function(){a.fadeTo(300,0,function(){$(this).html(D.hive.content).delay(100).fadeTo(500,1)})},1e3))},D.dataScrollExecute=function(e){var t=$(e).attr("data-scroll-to"),a=$(e).attr("data-easing")||"easeInOutQuint",i=$(e).attr("data-anim-per-px")?parseInt($(e).attr("data-anim-per-px"),10):0,n=$(e).attr("data-additional-top-offset")?parseInt($(e).attr("data-additional-top-offset"),10):0,e=$(e).attr("data-delay")?parseInt($(e).attr("data-delay"),10):1e3,t=$(t);t.length&&(t=$(D.scrollableElementSelector).scrollTop()+(null!=(t=null==(t=t.offset())?void 0:t.top)?t:0)+n,"sticky"===$("header").css("position")&&(t-=null!=(n=null==(n=$("header"))?void 0:n.outerHeight())?n:0),i&&(e=Math.abs(t)/i*1e3),$(D.scrollableElementSelector).animate({scrollTop:t},{duration:e,easing:a}))},D.bindScrollToElement=function(){$("[data-scroll-to]").each(function(){var t=$(this),e=$(this).attr("data-wait-for-event");t.on("click",function(e){e.preventDefault()}),e?t.on(e,function(){D.dataScrollExecute(t)}):t.on("click",function(e){D.dataScrollExecute(t)})})},D.scrollToElement=function(e,t){var a={offsetToAdd:0,easing:"swing",delay:1e3},t=($.extend(a,t),$(e));t.length&&(e=null!=(t=null==(e=t.offset())?void 0:e.top)?t:0,t=(null!=(t=$(D.scrollableElementSelector).scrollTop())?t:0)+e+a.offsetToAdd,$(D.scrollableElementSelector).animate({scrollTop:t},{duration:a.delay,easing:a.easing}))},D.getCart=function(){return $.getJSON("/cart.js")},D.getItem=function(t){$.ajax({url:"/products/"+t.handle+".js",method:"GET",dataType:"json",complete:function(e){t.complete&&t.complete(e)}})},D.getTRMProduct=function(i){return __awaiter(t,void 0,void 0,function(){var t,a;return __generator(this,function(e){switch(e.label){case 0:return t=null,[4,fetch("/products/"+i+"?view=product-json")];case 1:return(a=e.sent()).ok?[4,a.json()]:[3,3];case 2:t=e.sent(),e.label=3;case 3:return[2,t]}})})},D.addItem=function(t){$.ajax({url:"/cart/add.js",data:t.postOptions,method:"POST",dataType:"json",beforeSend:function(){t.beforeSend&&t.beforeSend()},complete:function(e){t.complete&&t.complete(e)}})},D.removeItem=function(t){$.ajax({url:"/cart/change.js",data:{quantity:0,id:t.itemId},method:"POST",dataType:"json",beforeSend:function(){t.beforeSend&&t.beforeSend()},complete:function(e){t.complete&&t.complete(e)}})},D.updateCartAlerts=function(e){},D.isWebStorageAvailable=function(){return"undefined"!=typeof Storage},D.scrollToHash=function(){var e=D.getTopWindowObj();(e.location.hash?$(e.location.hash).length:0)&&D.scrollToElement($(e.location.hash),{easing:"easeInOutQuint",delay:1e3,offsetToAdd:0})},D.getCampaignFormattedDateString=function(e){e=dateFns.parse(e,TSGlobals.themeSettings.campaign_ends_at_date_format,new Date);return dateFns.format(e,TSGlobals.themeSettings.campaign_display_date_format)},D.getCampaignDateObjAndFormattedDateString=function(e){e=dateFns.parse(e,TSGlobals.themeSettings.campaign_ends_at_date_format,new Date);return{dateObj:e,campaignDateDisplayFormat:dateFns.format(e,TSGlobals.themeSettings.campaign_display_date_format),dateSortString:dateFns.format(e,"YYYYMMDD")}},D.isPaidTraffic=function(){var e=!1,t=T3Core.GetQueryStringByKey("utm_medium");return e=t&&t.match(/^(cpc|ppc|cpa|cpm|cpv|cpp)$/)?!0:e},D.isMobilePaidTraffic=function(){return T3Core.IsMobileDevice()&&D.isPaidTraffic()},D.mobilePaidTrafficViewCheck=function(){var e=T3Core.GetQueryStringByKey("view"),e=-1!==TSGlobals.paidMobileViews.indexOf(e);!D.isMobilePaidTraffic()&&e&&(D.getTopWindowObj().location.href=T3Core.RemoveQueryStringParameter(window.location.href,"view"))},D.onModalVisible=function(e){var t=e.elemToFocusOn,i=e.modalWrapper;try{t&&t.focus();var a=TSCustomEventsDef.keydownOnModalVisible;$(document).on(a,function(e){if(9===(null===e?e.keyCode:e.which)){var a=!0;if($(e.target).parents().each(function(e,t){if($(t).is(i))return a=!1}),a)return T3Core.Debug("ReFocused"),t&&t.focus(),!1;T3Core.Debug("No need to focus on modal")}}),T3Core.Debug([a+" added","focused on:",t])}catch(e){console.log(e)}},D.onModalClosed=function(e){try{var t=TSCustomEventsDef.keydownOnModalVisible;$(document).off(t),e&&e.focus(),T3Core.Debug([t+" removed","focused on:",e])}catch(e){console.log(e)}},D.ProductCustomTags={Archive:"ARCHIVE",ComingSoon:"COMING%20SOON",LastCall:"LAST%20CALL",Spacer:"SPACER",PreOrder:"PRE-ORDER",Unavailable:"UNAVAILABLE",Warehouse:"WAREHOUSE",VIPreview:"vip-preview"},D.getWorkshopProductMarkupData=function(e){var t,a,i,n,o,r="";return e.workshopData?(t=(n=e.workshopData).phase,o=n.active,a=n.preorder_active,i=n.preorder_num_sold,n=n.preorder_threshold,t===D.WorkshopPhasesValues.crowdSourced&&o?r+='<span class="ws-progress"><span class="ws-label">Workshop:</span>&nbsp;<span class="ws-ends"><span>Ends in&nbsp;</span><time class="countdown ws-remainder" data-ends="'+e.workshopData.ends_at+' 23:59:59"></time></span>':t===D.WorkshopPhasesValues.preOrder&&a&&(r+='<span class="ws-progress"><span class="ws-label">Pre-Order:</span>&nbsp;<span class="ws-remainder">'+(1<(o=n-i)?'<span class="ws-counter">'+o+" Units</span> left!":1==o?'<span class="ws-counter">'+o+" Unit</span> left!":'<span class="ws-counter">Sold Out</span>!')+"</span>")):console.error("Product does not have workshop data",e.title),r},D.buildCollectionProductsHtml=function(e){var t=e.products,v=e.currentCollectionHandle,w=e.isInitialLoading,b=e.needToCheckExistenceOfCategoriesCollectionProducts,C=e.categoriesCollectionFiltersElem,y=e.isLastCallCollection,T=(e.isWarehouseCollection,e.isHeavyBagShop,e.enableQuickATC),k=e.isArchiveCollection,_=(e.isLanderCollection,e.isSaleCollection,e.wholesaleStore),P={allAvailableCollections:[],html:""};return $.each(t,function(e,t){var i,a=decodeURIComponent(t.title).replace(/"/g,"&quot;"),n=t.url||"/collections/"+v+"/products/"+t.handle,o=t.phase,r=(w&&(i=t.allcollections,b&&$(C).each(function(){for(var e=$(this),t=(e.attr("data-collectionhandles")||"").split(","),a=0;a<t.length;a++)-1!==$.inArray(t[a],i)&&e.attr("data-collectionfound",t[a])}),(r=P.allAvailableCollections).push.apply(r,i)),"<li>"),s=-1<t.tags.indexOf(D.ProductCustomTags.Archive),l=-1!==t.tags.indexOf(D.ProductCustomTags.LastCall)&&!y,c="retail"!==t.phase,d=-1!==t.tags.indexOf(D.ProductCustomTags.Spacer),h=-1<t.tags.indexOf(D.ProductCustomTags.Unavailable);t.tags.indexOf(D.ProductCustomTags.VIPreview);if(d){r+='<figure class="spacer text-white">';var d=-1!==t.body_html.indexOf("Redirect:"),u="",r=(r+=d?'<a href="'+(u=t.body_html.replace("Redirect:%20",""))+'">':"<span>")+('<img class="lazyload" src="'+t.images[0].src480+'" srcset="'+TSGlobals.lazyImagePlaceholder+'" data-srcset="'+t.images[0].src638+" 638w, "+t.images[0].src276+" 276w, "+t.images[0].src360+" 360w, "+t.images[0].src530+" 530w, "+t.images[0].src638+" 638w, "+t.images[0].src764+" 764w, "+t.images[0].src806+" 806w, "+t.images[0].src816+' 816w" data-sizes="auto">')+(d?"</a>":"</span>");d&&(r+='<figcaption><a href="'+u+'"><span>Read More</span></a></figcaption>')}else{r+='<figure class="'+(T?"quick-atc-on":"quick-atc-off")+'"><a href="'+n+'">',1<t.images.length?r=(r+='<img class="lazyload feature" alt="'+a+' - featured image" src="'+t.images[0].src480+'" srcset="'+TSGlobals.lazyImagePlaceholder+'" data-srcset="'+t.images[0].src638+" 638w, "+t.images[0].src276+" 276w, "+t.images[0].src360+" 360w, "+t.images[0].src530+" 530w, "+t.images[0].src638+" 638w, "+t.images[0].src764+" 764w, "+t.images[0].src806+" 806w, "+t.images[0].src816+' 816w" data-sizes="auto">')+'<img class="lazyload lazypreload lazyunload swap" alt="'+a+' - alternate image" src="'+t.images[1].src480+'" srcset="'+TSGlobals.lazyImagePlaceholder+'" data-srcset="'+t.images[1].src638+" 638w, "+t.images[1].src276+" 276w, "+t.images[1].src360+" 360w, "+t.images[1].src530+" 530w, "+t.images[1].src638+" 638w, "+t.images[1].src764+" 764w, "+t.images[1].src806+" 806w, "+t.images[1].src816+' 816w" data-sizes="auto">':0<t.images.length?r+='<img class="lazyload" alt="'+a+' - featured image" src="'+t.images[0].src480+'" srcset="'+TSGlobals.lazyImagePlaceholder+'" data-srcset="'+t.images[0].src638+" 638w, "+t.images[0].src276+" 276w, "+t.images[0].src360+" 360w, "+t.images[0].src530+" 530w, "+t.images[0].src638+" 638w, "+t.images[0].src764+" 764w, "+t.images[0].src806+" 806w, "+t.images[0].src816+' 816w" data-sizes="auto">':r+='<img src="'+TSGlobals.lazyImagePlaceholder+'">';var d="",p=(k&&s?d+='<span class="inventory-flag">'+t.releaseDate+"</span>":c?t.phase===D.WorkshopPhasesValues.inProduction?d+='<span class="inventory-flag">In Production</span>':d+='<span class="inventory-flag inventory-flag-workshop">Workshop</span>':t.available?s?d+='<span class="inventory-flag">Archived</span>':l?d+='<span class="inventory-flag">Last Call</span>':h&&(d+='<span class="inventory-flag">Unavailable</span>'):d+='<span class="inventory-flag">Out of Stock</span>',r=r+d+"</a>","");if("gift-certificates"!==v){p+='<figcaption><a href="'+n+'"><b>';u=a.split(" in ");if(1===u.length&&(u=a.split(" by ")),p+='<span class="title">'+u[0].replace("Taylor Stitch","TS").trim()+"</span>",1<u.length&&(p+='<span class="subtitle"> in  '+u[1].trim()+"</span>"),-1===a.indexOf("Gift Card")?_?p=(p+="<del>"+t.formattedPrices.price_max+" MSRP</del>")+"<span>"+t.formattedPrices.wholesale_price+'<span class="cut-reason">Wholesale</span></span>':s||(T3Core.Debug("Pricing: _Phase: "+t.phase+" | compare_at_price: "+t.compare_at_price+" / "+t.formattedPrices.compare_at_price_max+" | price: "+t.price+" | "+a),t.compare_at_price>t.price?(p=(p=(p+='<span class="sale-price">'+t.formattedPrices.price+'<span class="cut-reason">')+("retail"!==t.phase?"Pre-Sale":"On Sale"))+"</span></span><del>"+t.formattedPrices.compare_at_price_max+"</del>",c||(p+='<span class="discount-percentage">'+t.formattedPrices.sale_discount+"</span>")):p=p+("<span>"+t.formattedPrices.price_max)+"</span>"):p+="<span>"+t.formattedPrices.price_min+"&ndash;"+t.formattedPrices.price_max+"</span>",p+="</b></a>","Gift Certificate"!==t.product_type)if(!t.available||s||h)p+=c?'<i class="unavailable">Arriving Soon</i>':'<i class="unavailable">Sold Out</i>';else{var f=!1;if(1<t.variants.length){"Footwear"===t.product_type?p+='<i class="sizes footwear">':p+='<i class="sizes">',p+='<span class="prompt">Quick Add:</span>';for(var m=0;m<t.variants.length;m++){var g=t.variants[m],S=decodeURIComponent(g.option1).replace("Default","One Size").replace("///g","&#8239;-&#8239;");g.available?(p+='<span data-variantid="'+g.id+'">'+S+"</span>",f=!0):p+="<del>"+S+"</del>"}}f&&(p=(p=(p+='<span class="cta-buttons">')+'<a href="'+n+'" class="more-button awesome">VIEW PRODUCT</a><a href="#" class="atc-button awesome" data-defaulttext="'+(l=c?"PRE-ORDER":"ADD TO CART")+'">'+l+"</a>")+'<input type="hidden" class="line-property" value='+o+' name="_Phase"/></span>'),p=(p+="</i>")+(c?D.getWorkshopProductMarkupData(t):'<i class="reviews">'+decodeURIComponent(t.reviews)+"</i>")}p+="</figcaption>"}r+=p+='<span class="hidden">'+t.sales_count+"</span>"}P.html+=r=r+"</figure>"+"</li>"}),P.html+='<li class="flex-grid-fixer"></li><li class="flex-grid-fixer"></li><li class="flex-grid-fixer"></li><li class="flex-grid-fixer"></li>',P}}(TSShared=TSShared||{}),!function(i){i.stickySidebarAlreadyWrapped=!1,i.scrollToTargetTop=function(){$("a[href*=#]:not([href=#])").click(function(){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){var e=$(this.hash);if((e=e.length?e:$("[name="+this.hash.slice(1)+"]")).length)return $(TSShared.scrollableElementSelector).animate({scrollTop:null==(e=e.offset())?void 0:e.top},1e3),!1}})},i.stickyHeader=function(e){e.load($(".stickyHeader"))},i.stickySidebar=function(e){var t,s={topOffsetBreakPoint:400,topOffset:63,againstElementSelector:"footer",sidebarSelector:".sidebar"},l=(s=void 0!==e?$.extend(s,e):s).topOffset,c=$(TSShared.scrollableElementSelector),d=$(".secondary-content-wrapper "+s.sidebarSelector),h=(i.stickySidebarAlreadyWrapped||(d.wrap('<div class="sticky-wrapper"></div>'),i.stickySidebarAlreadyWrapped=!0),$(".sticky-wrapper"));function a(){var e=d.width(),t=d.outerHeight(),a=(h.height(t),c.scrollTop()),i=t+d.position().top,n=$(s.againstElementSelector).position().top,o=($("main .banner").length?$("main .banner").outerHeight():0)+($("main .responsibility-landing-banner").length?$("main .responsibility-landing-banner").outerHeight():0)+($("main .launchpad-sale-banner").length?$("main .launchpad-sale-banner").outerHeight():0)+($("main .launchpad-sale-banner-sitewide").length?$("main .launchpad-sale-banner-sitewide").outerHeight():0)+($("main .launchpad-sale-banner-additional-credit").length?$("main .launchpad-sale-banner-additional-credit").outerHeight():0)+($(".breadcrumb.inline-menu").length?$(".breadcrumb.inline-menu").outerHeight():0),r=parseInt(d.css("paddingTop"),10),o=0===o?s.topOffsetBreakPoint:o;l=$("header").height(),o<a?(T3Core.Debug("Sticky Sidebar - offset > checkPoint."),n<i+(a=l)&&n-t<o?d.css({position:"fixed",width:e,top:n-t}):d.css({position:"fixed",width:e,top:a-r})):d.css({position:"",width:e,top:0})}c.on("scroll",a),$(window).on("resize",function(){t&&clearTimeout(t),t=setTimeout(function(){d.css({position:"",width:"100%",top:0}),a()},100)}),a()},i.loadSlickSlider=function(e,t,a,i,n){void 0===e&&(e=".carousel"),void 0===t&&(t=!1),void 0===a&&(a=!0),void 0===i&&(i=!0),void 0===n&&(n=!1),$(e).slick({rows:0,fade:t,autoplay:a,autoplaySpeed:1e4,arrows:i,prevArrow:'<div class="slick-prev"><span /></div>',nextArrow:'<div class="slick-next"><span /></div>',dots:n,pauseOnHover:!0})},i.loadChorePantsSlickSlider=function(){$(".slick").slick({rows:0,prevArrow:'<div class="slick-prev"><span /></div>',nextArrow:'<div class="slick-next"><span /></div>',mobileFirst:!0,responsive:[{breakpoint:TSShared.snapperEntryPoint,settings:{arrows:!1,slidesToShow:4,slidesToScroll:1}}]})}}(TSMiscellaneousFuncModule=TSMiscellaneousFuncModule||{}),function(){function e(e){this.mainWrapperElem=null,this.unitsElem=null,this.unitsTextWrapper=null,this.duration=3,this.counterLoaded=!1,this.mainWrapperElem=$(e.mainWrapper),this.unitsElem=$(e.unitsElem,e.mainWrapper),this.unitsTextWrapper=$(e.unitsTextWrapper,this.unitsElem)}return e.prototype.init=function(){this.onDocumentReady(),this.onWindowLoad()},e.prototype._startCounter=function(){var e=this;$.fn.reverse=[].reverse,setTimeout(function(){e._loadCounter(!0)},500)},e.prototype._loadCounter=function(e){var t=this,a=(e&&(this.unitsElem=this.unitsElem.reverse()),this._initCounter(this.unitsElem.eq(0),1),500);if(1<this.unitsElem.length)for(var i=1;i<this.unitsElem.length;i++)!function(e){setTimeout(function(){t._initCounter(t.unitsElem.eq(e),e+1)},a),a+=1e3}(i)},e.prototype._initCounter=function(e,t){new CountUp(e[0],0,e.attr("data-count-up"),e.attr("data-decimal"),this.duration,{useEasing:!1,useGrouping:!0,separator:",",decimal:".",prefix:e.attr("data-prefix"),suffix:e.attr("data-suffix")}).start(),t===this.unitsElem.length&&(this.counterLoaded=!0)},e.prototype.onWindowLoad=function(){var e=this;$(window).on("load",function(){e.unitsElem.length&&e._startCounter()})},e.prototype.onDocumentReady=function(){var e=this;$(function(){e.unitsTextWrapper.text("0"),e.mainWrapperElem.addClass("zeroed")})},e}()),TSFitFinderStyleDefinition=function(){function e(e){this.style=null,this.defs=[],this.maxHeight=0,this.minHeight=61,this.maxWeight=0,this.minWeight=100,this.style=e.style,this._setUpMaxAndMin();for(var t=0,a=e.defs;t<a.length;t++){for(var i=a[t],n=i.conditions,o=0,r=n;o<r.length;o++){var s=r[o];this.maxHeight=(s.maxHeight>this.maxHeight?s:this).maxHeight,this.maxWeight=(s.maxWeight>this.maxWeight?s:this).maxWeight,this.minHeight=(s.minHeight<this.minHeight?s:this).minHeight,this.minWeight=(s.minWeight<this.minWeight?s:this).minWeight}this.defs.push({size:i.size,urlValue:i.urlValue,conditions:n})}}return e.prototype._setUpMaxAndMin=function(){"slim"===this.style?(this.maxHeight=0,this.minHeight=61,this.maxWeight=0,this.minWeight=100):(this.maxHeight=0,this.minHeight=61,this.maxWeight=0,this.minWeight=125)},e}(),TSFitFinder=(!function(e){e.trackAddToCart=function(){window.rdt&&((0,window.rdt)("track","AddToCart"),T3Core.Debug(["TSRedditPixelManager, tracked add to cart"]))},e.trackSignup=function(){window.rdt&&((0,window.rdt)("track","SignUp"),T3Core.Debug(["TSRedditPixelManager, tracked signup"]))}}(TSRedditPixelManager=TSRedditPixelManager||{}),function(){function e(e){this.styleDefinitions=[],this.callBack=function(e){return e},this.mappedSizesAndStyle=[],this.fitFinderForm=e.formWrapperJqueryObj?$("#fit-finder-form",e.formWrapperJqueryObj):$("#fit-finder-form"),this.findMySizeButton=$(".calculate-size",this.fitFinderForm),this.feetField=$(".height-feet",this.fitFinderForm),this.inchField=$(".height-inches",this.fitFinderForm),this.weightField=$(".weight",this.fitFinderForm),this.styleDefinitionFile=e.sizeDefinitionFile,this.callBack=e.callBack}return e.prototype.init=function(){this._getStyleDefinitions(),this._bindEvents()},e.prototype._getStyleDefinitions=function(){var n=this;$.getJSON(this.styleDefinitionFile,function(e){for(var t=0,a=e;t<a.length;t++){var i=a[t],i=new TSFitFinderStyleDefinition(i);n.styleDefinitions.push(i)}})},e.prototype._setMappedSizeAndStyle=function(){if(this.mappedSizesAndStyle=[],this._validateFields())for(var e=this.feetField.val(),t=this.inchField.val(),p=12*parseInt(e,10)+parseInt(t,10),f=parseInt(this.weightField.val(),10),m=this,a=0,i=this.styleDefinitions;a<i.length;a++)!function(e){var t=null,a=e.style,i=e.maxHeight,n=e.minHeight,o=e.maxWeight,r=e.minWeight;if(p<=i&&n<=p&&f<=o&&r<=f)for(var s=0,l=e.defs;s<l.length;s++){for(var c=l[s],d=0,h=c.conditions;d<h.length;d++){var u=h[d];if(p>=u.minHeight&&p<=u.maxHeight&&f>=u.minHeight&&f<=u.maxWeight){t=c;break}}if(t){m.mappedSizesAndStyle.length&&m.mappedSizesAndStyle.filter(function(e){return e.mappedSize.size===t.size}).length||m.mappedSizesAndStyle.push({mappedSize:t,style:a});break}}}(i[a])},e.prototype._bindEvents=function(){var t=this;this.findMySizeButton.on("click",function(e){e.preventDefault(),t._setMappedSizeAndStyle(),t.callBack&&"function"==typeof t.callBack&&t.callBack(t.mappedSizesAndStyle)})},e.prototype._validateFields=function(){return""!==this.feetField.val()&&""!==this.inchField&&""!==this.weightField},e}()),TSVideoSrcSwitcher=(!function(n){function o(e){e.initialized&&$(e.elem).slick("unslick"),$(e.elem).slick(e.options),e.initialized=!0}var e=0;n.slicks=[];n.createNew=function(e){var e={elem:e.elem,options:e.slickOptions,initialized:!1,initWhenBreakPointGreaterThan:e.initWhenBreakPointGreaterThan,initWhenBreakPointLessThan:e.initWhenBreakPointLessThan},t=(n.slicks.push(e),$(window).width());0===e.initWhenBreakPointGreaterThan&&0===e.initWhenBreakPointLessThan?o(e):e.initWhenBreakPointGreaterThan?e.initWhenBreakPointGreaterThan<t&&o(e):e.initWhenBreakPointLessThan&&t<e.initWhenBreakPointLessThan&&o(e)},$(function(){$(window).resize(function(){e&&clearTimeout(e),e=setTimeout(function(){for(var e=$(window).width(),t=0,a=n.slicks;t<a.length;t++){var i=a[t];i.initWhenBreakPointGreaterThan&&e>i.initWhenBreakPointGreaterThan&&o(i),i.initWhenBreakPointLessThan&&e<i.initWhenBreakPointLessThan&&o(i)}},1e3)})})}(TSSlickSliderController=TSSlickSliderController||{}),function(){function e(e){var t=this,a=(this.resizeTm=0,this.options={selector:"",breakpoints:{default:{src:""}}},document.querySelector(e));a&&(this.options={selector:e,breakpoints:{default:{src:null==a?void 0:a.getAttribute("data-src")}}},null!=a&&a.querySelectorAll("[data-src]").forEach(function(e){t.options.breakpoints[e.getAttribute("data-minwidth")]={src:e.getAttribute("data-src")}}),this.resizeVideo(),this.bindEvs())}return e.prototype.resizeVideo=function(){var e,t,a=this.options,i=a.breakpoints,a=a.selector,a=document.querySelector(a);a&&(e=null==a?void 0:a.getAttribute("data-width-now"),t=((t=Object.keys(i).filter(function(e){if(!isNaN(Number(e))&&Number(e)<=document.body.clientWidth)return e}).map(function(e){return Number(e)})).length?Math.max.apply(Math,t):0)||"default",e&&e==t||(a.setAttribute("data-width-now",t.toString()),a.src=i[t].src))},e.prototype.bindEvs=function(){var e=this;window.addEventListener("resize",function(){e.resizeTm&&clearTimeout(e.resizeTm),e.resizeTm=setTimeout(function(){e.resizeVideo()},1e3)})},e}());$(function(){TSShared.init()}),$(window).on("load",function(){TSShared.snapDrawerLoaded||TSShared.loadSnapDrawers(),$(TSShared.scrollableElementSelector).imagesLoaded().always(function(){TSShared.scrollToHash()}),TSShared.initCountdowns()});